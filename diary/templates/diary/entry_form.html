{% extends "base.html" %}

{% block content %}
<h1>{% if is_update %}Редактировать запись{% else %}Новая запись{% endif %}</h1>

<form method="post">
    {% csrf_token %}

    {{ form.text }}

    {% if show_targets %}
    <div class="form-group">
        <label>Цели:</label>
        {{ form.targets }}
    </div>
    {% endif %}

    {% if show_tags %}
    <div class="form-group">
        <label>Теги:</label>
        {{ form.tags }}
    </div>
    {% endif %}

    {% for field in custom_fields %}
    <div class="form-group">
        <label>{{ field.name }}:</label>
        <input type="text"
               name="custom_{{ field.name }}"
               class="form-control"
               value="{{ field.value }}">
    </div>
    {% endfor %}

    <button type="submit" class="btn btn-primary">Сохранить</button>
    {% if is_update %}
    <a href="{% url 'diary:entry_detail' pk=object.pk %}" class="btn btn-secondary">Отмена</a>
    {% endif %}
</form>
{% endblock %}